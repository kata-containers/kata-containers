---
kind: Pod
apiVersion: v1
metadata:
  name: trusted-ephemeral-data-storage
  annotations:
    io.katacontainers.config.hypervisor.block_device_driver: virtio-blk
    io.katacontainers.config.hypervisor.kernel_params: agent.secure_storage_integrity=true
spec:
  runtimeClassName: kata
  terminationGracePeriodSeconds: 0
  restartPolicy: Never
  containers:
  - image: quay.io/prometheus/busybox:latest
    name: busybox
    command: ["sleep", "infinity"]
    volumeMounts:
    - name: temp-encrypted
      mountPath: /mnt/temp-encrypted
  volumes:
  - name: temp-encrypted
    emptyDir:
      sizeLimit: 10G
