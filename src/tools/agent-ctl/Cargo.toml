# Copyright (c) 2020 Intel Corporation
#
# SPDX-License-Identifier: Apache-2.0
#

[package]
authors = ["The Kata Containers community <kata-dev@lists.katacontainers.io>"]
edition = "2018"
license = "Apache-2.0"
name    = "kata-agent-ctl"
version = "0.0.1"

[dependencies]
oci-spec  = { version = "0.6.8", features = ["runtime"] }
protocols = { path = "../../libs/protocols", features = ["with-serde"] }
rustjail  = { path = "../../agent/rustjail" }

anyhow      = "1.0.31"
byteorder   = "1.3.4"
clap        = "2.33.0"
hex         = "0.4.2"
lazy_static = "1.4.0"

# Note: this crate sets the slog 'max_*' features which allows the log level
# to be modified at runtime.
log        = "0.4.22"
logging    = { path = "../../libs/logging" }
protobuf   = "3.2.0"
rand       = "0.8.4"
slog       = "2.7.0"
slog-scope = "4.4.0"

libc = "0.2.112"
nix  = "0.23.0"
# XXX: Must be the same as the version used by the agent
ttrpc = "0.8.4"

# For parsing timeouts
humantime = "2.1.0"

# For Options (state passing)
serde      = { version = "1.0.131", features = ["derive"] }
serde_json = "1.0.73"

# Image pull/unpack
image-rs = { git = "https://github.com/confidential-containers/guest-components", rev = "v0.10.0", features = [
  "oci-client-rustls",
  "signature-cosign-rustls",
  "snapshot-overlayfs",
] }

safe-path = { path = "../../libs/safe-path" }

tokio = { version = "1.44.2", features = ["signal"] }

[workspace]
